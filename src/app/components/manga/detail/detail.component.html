<section *ngIf="isNotFound">
	<div class="page-notice">
		<div class="page-notice-child" fxLayout="column" fxLayoutAlign="center center" >
			<mat-card class="universal-loading-container">
				<mat-card-content fxLayout="column">
					<div class="mat-title"><span>Manga Not Found</span></div>
				</mat-card-content>
			</mat-card>
		</div>
	</div>
</section>
<section *ngIf="isErrorCards.x">
	<div class="componen-error-container is-c-topchapter">
		<div class="componen-error" fxLayout="column" fxLayoutAlign="center center">
			<div class="componen-error-text mat-title">
				<span>Failed to load data</span>
			</div>
			<button mat-button color="primary" (click)="initManga()">Retry load</button>
		</div>
	</div>
</section>
<section class="universal-seksi seksi-cover" *ngIf="!isNotFound && !isErrorCards.x">
	<div class="manga-detail-bg">
		<div class="bg-default" *ngIf="dataMangaA.img_bg.link!=null" [style.background-image]="getBackground(dataMangaA.img_bg.link)"></div>
		<div class="bg-default" *ngIf="dataMangaA.img_bg.link==null"></div>
	</div>
	<div class="universal-container">
		<div fxLayout="column" fxLayout.gt-sm="row">
			<div fxFlex="100" fxFlex.gt-sm="70">
				<div class="layout-padding">
					<mat-card class="universal-loading-container">
						<mat-card-content class="manga-detail-cover" fxLayout="row">

							<div class="manga-cover-container">
								<div class="manga-cover manga-cover-set">
									<div class="manga-overlay"></div>
									<img [lazyLoad]="dataMangaA.img_cvr.full" [defaultImage]="dataMangaA.img_cvr.thumb" alt="{{dataMangaA.title}}" class="manga-image manga-image-overlay">
								</div>
							</div>

							<div fxLayout="column" fxFlex="100">
								<div fxLayout="row" class="manga-title-container">
									<h1 class="mat-display-1">{{dataMangaA.title}}</h1>
									<span fxFlex></span>
									<button mat-icon-button *ngIf="!isLogin">
										<mat-icon svgIcon="share"></mat-icon>
									</button>
									<button mat-icon-button *ngIf="!isLogin">
										<mat-icon svgIcon="flag"></mat-icon>
									</button>
									<button mat-icon-button *ngIf="isLogin" (click)="toggleFavorite()">
										<mat-icon svgIcon="favorite_border" *ngIf="!dataUser.favorite"></mat-icon>
										<mat-icon svgIcon="favorite" *ngIf="dataUser.favorite"></mat-icon>
									</button>
									<button mat-icon-button [matMenuTriggerFor]="BTNMangaDetailsA" *ngIf="isLogin">
										<mat-icon svgIcon="more_vert"></mat-icon>
									</button>
									<mat-menu #BTNMangaDetailsA="matMenu">
										<button mat-menu-item>
											<mat-icon svgIcon="share"></mat-icon>
											<span>Share</span>
										</button>
										<button mat-menu-item (click)="toggleSubscribe()">
											<mat-icon *ngIf="!dataUser.subscribe" svgIcon="notifications"></mat-icon>
											<mat-icon *ngIf="dataUser.subscribe" svgIcon="notifications_off"></mat-icon>
											<span *ngIf="!dataUser.subscribe">Subscribe Updates</span>
											<span *ngIf="dataUser.subscribe">Unsubscribe Updates</span>
										</button>
										<mat-divider></mat-divider>
										<button mat-menu-item>
											<mat-icon svgIcon="flag"></mat-icon>
											<span>Report Issue</span>
										</button>
									</mat-menu>
								</div>
								<div>
									<span *ngFor="let item of dataMangaA.author; let isLast=last"><a *ngIf="item.name!='Unknown'" routerLink="{{ item.link }}" title="{{ item.name }}" class="mat-subheading-2"><span itemprop="name">{{ item.name }}</span></a><span itemprop="name" *ngIf="item.name=='Unknown'" class="mat-subheading-2">{{ item.name }}</span><span class="mat-subheading-2" *ngIf="!isLast">, </span></span>
								</div>
								<div>
									<span class="mat-subheading-2">{{ dataMangaA.status }} | {{ dataMangaA.chapter }} chapter{{ (dataMangaA.chapter==1)?'':'s' }}</span>
								</div>
							</div>
						</mat-card-content>
					</mat-card>
				</div>

				<div class="layout-padding">
					<mat-card class="universal-loading-container">
						<mat-progress-bar [@loadingAnimation]="'in'" *ngIf="isLoadCards.a" class="universal-loading is-top" mode="indeterminate"></mat-progress-bar>
						<mat-card-content fxLayout="row">
							<mat-tab-group #tabGroupManga fxFlex="100" (focusChange)="tabChanged($event)">
								<mat-tab label="INFORMATION" class="full-size">
									<ng-template matTabContent>
										<div class="universal-pad-top-bot">
											<div fxLayout="column" *ngIf="!isErrorCards.a1">
												<span class="mat-title">GENRES</span>
												<mat-chip-list aria-label="Categories">
													<mat-chip *ngFor="let item of dataTabA.genre; let isLast=last" routerLink="{{ item.link }}" title="{{ item.name }}">{{ item.name }}</mat-chip>
													<!-- <mat-chip>Two fish</mat-chip>
													<mat-chip color="primary" selected>Primary fish</mat-chip>
													<mat-chip color="accent" selected>Accent fish</mat-chip> -->
												</mat-chip-list>
												<span class="mat-title universal-pad-top-24">SUMMARY</span>
												<div class="parent-paragrap"><p class="mat-body-1">{{ dataTabA.summary }}</p></div>
												<span class="mat-title universal-pad-top-24">OTHER FACTS</span>
												<table class="manga-tabel">
													<tbody>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">Published</span></td>
															<td><span class="mat-body-1">{{ dataTabA.releasedate }}</span></td>
														</tr>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">Serialization</span></td>
															<td><span class="mat-body-1">{{ dataTabA.type }}</span></td>
														</tr>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">Last Updated</span></td>
															<td><span class="mat-body-1">{{ dataTabA.latest }}</span></td>
														</tr>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">Other names</span></td>
															<td><span class="mat-body-1">{{ dataTabA.othername }}</span></td>
														</tr>
													</tbody>
												</table>
											</div>
											<div *ngIf="isErrorCards.a1" class="componen-error-container is-c-topchapter">
												<div class="componen-error" fxLayout="column" fxLayoutAlign="center center">
													<div class="componen-error-text mat-title">
														<span>Failed to load data</span>
													</div>
													<button mat-button color="primary" (click)="initInfo()">Retry load</button>
												</div>
											</div>
										</div>
										<!-- Content 1 - Loaded: {{getTimeLoaded(1) | date:'medium'}} -->
									</ng-template>
								</mat-tab>
								<mat-tab label="STATS">
									<ng-template matTabContent>
										<div class="universal-pad-top-bot">
											<div fxLayout="column">
												<table class="manga-tabel" *ngIf="!isErrorCards.a2">
													<tbody>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">User favorites</span></td>
															<td><span class="mat-body-1">{{ dataTabB.user_favorites }}</span></td>
														</tr>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">User subscribes</span></td>
															<td><span class="mat-body-1">{{ dataTabB.user_subscribes }}</span></td>
														</tr>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">Views today</span></td>
															<td><span class="mat-body-1">{{ dataTabB.views_day }}</span></td>
														</tr>
														<tr>
															<td class="manga-tabel-td"><span class="mat-body-1">Total views</span></td>
															<td><span class="mat-body-1">{{ dataTabB.views_total }}</span></td>
														</tr>
													</tbody>
												</table>
												<div *ngIf="isErrorCards.a2" class="componen-error-container is-c-topchapter">
													<div class="componen-error" fxLayout="column" fxLayoutAlign="center center">
														<div class="componen-error-text mat-title">
															<span>Failed to load data</span>
														</div>
														<button mat-button color="primary" (click)="initStats()">Retry load</button>
													</div>
												</div>
											</div>
										</div>
										<!-- Content 2 - Loaded: {{getTimeLoaded(2) | date:'medium'}} -->
										<!-- <p>{{ dataTabB | json }}</p> -->
									</ng-template>
								</mat-tab>
							</mat-tab-group>
						</mat-card-content>
					</mat-card>
				</div>

				<div class="layout-padding">
					<mat-card class="universal-loading-container">
						<mat-progress-bar [@loadingAnimation]="'in'" *ngIf="isLoadCards.b" class="universal-loading is-top" mode="indeterminate"></mat-progress-bar>
						<mat-card-content fxLayout="column">
							<div class="mat-title"><span>CHAPTERS</span></div>
							<mat-list *ngIf="!isErrorCards.b">
								<!-- <h3 mat-subheader>EN</h3> -->
								<mat-list-item *ngFor="let item of dataChapters.list; let isLast=last">
									<h4 mat-line><a title="{{ item.name }}" routerLink="{{ item.link }}">{{item.name}}</a></h4>
									<mat-action-list>
										<span class="mat-caption" mat-line>{{item.release}}</span>
									</mat-action-list>
									<mat-divider [inset]="true" *ngIf="!isLast"></mat-divider>
								</mat-list-item>
							</mat-list>
							<div *ngIf="isErrorCards.b" class="componen-error-container is-c-topchapter">
								<div class="componen-error" fxLayout="column" fxLayoutAlign="center center">
									<div class="componen-error-text mat-title">
										<span>Failed to load data</span>
									</div>
									<button mat-button color="primary" (click)="initChapters()">Retry load</button>
								</div>
							</div>
						</mat-card-content>
					</mat-card>
				</div>
			</div>

			<div fxFlex="100" class="layout-padding" fxFlex.gt-sm="30">
				<mat-card>
					<mat-card-content>
						<div class="manga-card-container">
							<div *ngFor="let item of dataRecom; let isLast=last">
								<div class="title-area">
									<span class="mat-title">{{ item.by }}</span>
								</div>
								<div class="manga-card-container-child" fxLayout="column">
									<div class="manga-card-list" *ngFor="let itemc of item.list; let isLastc=last">
										<a [routerLink]="itemc.manga_link" *ngIf="itemc.manga_cover.enabled" (click)="reloadManga(itemc.manga_id)" alt="itemc.manga_name" class="transisi gambar-container">
											<div class="gambar">
												<img [lazyLoad]="itemc.manga_cover.full" [defaultImage]="itemc.manga_cover.thumb">
											</div>
										</a>
										<div class="content-container">
											<a [routerLink]="itemc.manga_link" (click)="reloadManga(itemc.manga_id)" class="title">{{ itemc.manga_name }}</a>
											<div class="author-container" *ngIf="itemc.manga_author.length > 0">
												<!-- <figure *ngFor="let itemx of itemc.manga_author; let isLastx=last"> -->
													<a [routerLink]="itemx.link" class="author hoverable" *ngFor="let itemx of itemc.manga_author; let isLastx=last">
														<span>{{ itemx.text }}&nbsp;</span>
													</a>
												<!-- </figure> -->
													
												<!-- <ng-template *ngFor="let itemx of itemc.manga_author; let isLastx=last">
													<a href="/author/mrs-author-309872" class="author">
														<span>{{ itemx.text }}</span>
													</a>
												</ng-template> -->
												
												<!-- <span>, </span> 
												<a href="/author/mrs-author-100018812" itemprop="author" itemscope="" itemtype="http://schema.org/Person" class="author">
													<span itemprop="name">D.K</span>
												</a>
												<span>, </span>
												<a href="/author/mrs-author-100018813" itemprop="author" itemscope="" itemtype="http://schema.org/Person" class="author">
													<span itemprop="name">JWWORKS</span>
												</a>
												<span>, </span>
												<a href="/author/mrs-author-100018814" itemprop="author" itemscope="" itemtype="http://schema.org/Person" class="author">
													<span itemprop="name">Takino Daisuke</span>
												</a> -->
											</div>
											<div class="status"><span>{{ itemc.manga_status }}</span><span>, </span><span>{{ itemc.manga_chapters }} chapter{{ (itemc.manga_chapters==1)?'':'s' }}</span></div>
										</div>
										<!-- <a class="no-decor layout-column" layout="column" href="https://project-04.oo/blog/iso-37001-2016-sistem-manajemen-anti-suap-5c78ac000bd5b">
											<figure class="feed-artikel__specific__image" style="background-image: url(https://project-04.oo/assets/images/post/fcceeb95-3f25-4078-bf91-0052eb11dff1.png);"></figure>
											<h3 class="md-title feed-artikel_specific__title feed-artikel-spesifik__title">{{ itemc.manga_name }}</h3>
										</a> -->
									</div> 
								</div>
							</div>
						</div>

					</mat-card-content>
				</mat-card>
			</div>
		</div>
	</div>

</section>